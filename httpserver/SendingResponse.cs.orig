using System.Diagnostics;
using System.IO;
using System.Net.Sockets;

namespace httpserver
{
    class SendingResponse
    {
        private readonly NetworkStream _ns;
        private readonly string _httpResponse;
        private readonly string _content;
        private readonly string _path;
        readonly EventLog _myLog = new EventLog();

<<<<<<< HEAD:httpserver/SendingRespons.cs
        public SendingRespons(NetworkStream ns, string content, string httpRespons, string path)
        {
            _ns = ns;
            _content = content;
            _httpRespons = httpRespons;
            _path = path;
=======
        public SendingResponse(NetworkStream ns, string content, string httpResponse)
        {
            _ns = ns;
            _content = content;
            _httpResponse = httpResponse;
>>>>>>> a851d2034967aceb98c8f622341908cbd3d6f1e0:httpserver/SendingResponse.cs
            _myLog.Source = "MyServer";
        }

        public void Response()
        {
            var sw = new StreamWriter(_ns) { AutoFlush = true };
<<<<<<< HEAD:httpserver/SendingRespons.cs

            sw.Write(_httpRespons);
            //sw.Write(_content);
            using (FileStream file = File.OpenRead(_path))
            {
                file.CopyTo(_ns);
            }
            _myLog.WriteEntry("Server respons: " + _httpRespons, EventLogEntryType.Information, 3);
=======
            sw.Write(_httpResponse);
            sw.Write(_content);
            _myLog.WriteEntry("Server response: " + _httpResponse, EventLogEntryType.Information, 3);
>>>>>>> a851d2034967aceb98c8f622341908cbd3d6f1e0:httpserver/SendingResponse.cs
        }
    }
}
